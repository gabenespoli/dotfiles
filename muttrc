# .muttrc
# much taken from http://stevelosh.com/blog/2012/10/the-homely-mutt/
# for multiple accounts: https://pbrisbin.com/posts/two_accounts_in_mutt/

# add save hook to set default dir for saving attachments http://unix.stackexchange.com/questions/241994/how-can-i-change-the-default-save-folder-in-mutt

## Paths
set alias_file          = ~/.mutt/alias            # where to store aliases
set mailcap_path        = ~/.mutt/mailcap          # entries for filetypes
set signature           = ~/.mutt/sig              # my signature file
set folder              = ~/.mail
set header_cache        = ~/.mail/cache/headers    # where to store headers
set message_cachedir    = ~/.mail/cache/bodies     # where to store bodies
set certificate_file    = ~/.mail/certificates     # where to store certs
set tmpdir              = ~/.mail/temp             # where to keep temp files

## Account Settings
set realname            = "Gabe Nespoli"
set from                = "gabenespoli@gmail.com"
set spoolfile           = "+INBOX"
set mbox                = "+Archive"
set postponed           = "+Drafts"
set sendmail            = "/usr/local/bin/msmtp -a home"
mailboxes +INBOX \
          +Archive \
          +Drafts \
          +Chats \
          +Trash \

## Basic Options
set wait_key = no        # shut up, mutt
set mbox_type = Maildir  # mailbox type
set timeout = 3          # idle time before scanning
set mail_check = 0       # minimum time between scans
unset move               # gmail does that
set delete               # don't ask, just do
unset confirmappend      # don't ask, just do!
set quit                 # don't ask, just do!!
unset mark_old           # read/new is good enough for me
#set beep_new             # bell on new mails
#set pipe_decode          # strip headers and eval mimes when piping
#set thorough_search      # strip headers and eval mimes before searching
set mail_check_stats

## Index View Options
set date_format = "%Y-%m-%d"
set index_format = "%5C [%Z] %X  %D  %-20.20F  %s"
set sort = threads                         # like gmail
set sort_aux = reverse-last-date-received  # like gmail
set uncollapse_jump                        # don't collapse on an unread message
set sort_re                                # thread based on regex
#set reply_regexp = "^(([Rr][Ee]?(\[[0-9]+\])?: *)?(\[[^]]+\] *)?)*"

## Viewing Options
set pager_index_lines = 10 # number of index lines to show
set pager_context = 3      # number of context lines to show
set pager_stop             # don't go to next message automatically
set menu_scroll            # scroll in menus
set tilde                  # show tildes like in vim
unset markers              # no ugly plus signs
auto_view text/html
alternative_order text/plain text/enriched text/html
set sidebar_visible = yes
set sidebar_width   = 27
set sidebar_format  = "%B%?F?[%F]?%* %?N?%N/?%S%?L?[%L]?"

## Compose View Options
#set editor="vim +':set textwidth=0' +':set wrapmargin=0"
set editor          = "vim" 
set envelope_from                           # which from?
set sig_dashes                              # dashes before sig
set edit_headers                            # show headers when composing
set fast_reply                              # skip to compose when replying
#set askcc                                   # ask for CC:
set fcc_attach                              # save attachments with the body
unset mime_forward                          # forward attachments as part of body
set forward_format  = "Fwd: %s"             # format of subject when forwarding
set forward_decode                          # decode when forwarding
set attribution     = "On %d, %n wrote:"    # format of quoting header
set reply_to                                # reply to Reply to: field
set reverse_name                            # reply as whomever it was to
set include                                 # include message in replies
set forward_quote                           # include message in forwards

## msmtp
set from            = "gabenespoli@gmail.com"
set sendmail        = "/usr/local/bin/msmtp -a Home"
set sendmail_wait   = 0
unset record

## goobook
set query_command   = "goobook query %s"

## Source colors and keybindings
source ~/dotfiles/mutt/colors.muttrc
source ~/dotfiles/mutt/keybindings.muttrc

